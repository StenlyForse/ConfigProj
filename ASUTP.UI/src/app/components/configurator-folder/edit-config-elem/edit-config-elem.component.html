<div class="px-2 container mx-auto">
  <form class="config mt-5" #form1="ngForm" (ngSubmit)="updateBoundlesDataList()">
    <div class="config-column">
      <div class="config__info">
        <div class="config-info-title">Дата создания:</div>
        <div class="config-info-text">{{ configHeader.DateTime }}</div>
      </div>
      <div class="config__info info-input">
        <div class="config-info-title"> Описание:</div>
        <div class="config-info-text">
            <input
            class="config__title-input"
            [(ngModel)]="configHeader.Title"
            [ngModelOptions]="{ standalone: true }"
          />
        </div>
      </div>
      <div class="config__info info-input">
        <div class="config-info-title">Ревизия:</div>
        <div class="config-info-text">
            <input
            class="config__title-input version"
            [(ngModel)]="configHeader.Revision"
            [ngModelOptions]="{ standalone: true }"
          />
        </div>
      </div>
    </div>
  </form>

  <div class="d-flex my-auto mt-5">
    <a
      class="list-group-item py-2 px-3 rounded text-bg-primary"
      routerLink="/configurator/configList"
      >Вернуться к списку КП</a
    >
  </div>
  <h1 class="text-center mt-2">Коммерческое предложение</h1>

  <table id="KPtable" class="offer-table table table-striped table-bordered table-sm mt-5">
    <thead>
      <tr class="table-primary">
        <th scope="col">Референс</th>
        <th scope="col">Описание</th>
        <th scope="col">Кол.</th>
        <th scope="col">Валюта</th>
        <th scope="col">Цена без НДС</th>
        <th scope="col">Цена с НДС</th>
        <th scope="col">Вендор</th>
        <th scope="col">Итого</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let configElem of configElemsArr; let i = index">
        <td data-title="Референс">{{ configElem.reference }}</td>
        <td data-title="Описание">{{ configElem.desc }}</td>
        <td data-title="Кол-во" class="text-center">
          {{ configElem.moduleCount }}
        </td>
        <td data-title="Валюта">{{ configElem.currency }}</td>
        <td data-title="Цена без НДС">{{ configElem.price_wo_taxStr }}</td>
        <td data-title="Цена с НДС">{{ configElem.price_w_taxStr }}</td>
        <td data-title="Вендор">{{ configElem.vendorName }}</td>
        <td data-title="Итого">{{ configElem.totalStr }}</td>
      </tr>
    </tbody>
  </table>

  <form #form4="ngForm" (ngSubmit)="updateBoundlesDataList()">
    <table class="table d-flex justify-content-end">
      <thead>
        <tr>
          <th scope="col"></th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td class="d-flex">
            <div>Итого:</div>
            <div class="ms-3 text-end fw-normal w-100">
              {{ configTotals.Total }}
            </div>
          </td>
        </tr>
        <tr>
          <td class="d-flex">
            <div>НДС:</div>
            <div class="ms-3 text-end fw-normal w-100">
              {{ configTotals.PureNDS }}
            </div>
          </td>
        </tr>
        <tr>
          <td class="d-flex">
            <div>Итого:</div>
            <div class="ms-3 text-end fw-normal w-100">
              {{ configTotals.TotalWithNDS }}
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </form>
  <div class="d-flex justify-content-end my-4">
    <button class="btn btn-primary" type="submit" (click)="PrintTable()">
      <!--<a href="../../../assets/doc/KPdoc.docx" download>Сформировать КП</a>-->
      Сформировать КП
    </button>
  </div>
</div>

